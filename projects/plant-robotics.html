<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plant Root Analysis & Robotics - Thijn Bakker</title>
    <link rel="icon" type="image/x-icon" href="../images/icons/robot_icon.png">
    <style>
        @import url('../styles.css');
    </style>
</head>
<body>
    <div class="bg-animation"></div>

    <!-- Navigation -->
    <nav id="navbar">
        <div class="nav-container">
            <a href="../index.html" class="logo">Thijn Bakker</a>
            <ul class="nav-links">
                <li><a href="../index.html">Home</a></li>
                <li><a href="../index.html#about">About</a></li>
                <li><a href="../index.html#projects">Projects</a></li>
                <li><a href="../index.html#contact">Contact</a></li>
            </ul>
        </div>
    </nav>

    <!-- Project Hero -->
    <section class="project-hero">
        <div class="project-hero-content">
            <h1>ü§ñ Automated Plant Root Analysis & Robotics</h1>
            <p class="project-date">November 2024 - January 2025</p>
            <p class="project-client">Client: Netherlands Plant Eco-phenotyping Centre (NPEC)</p>
        </div>
    </section>

    <!-- Project Content -->
    <section class="project-content">
        <div class="project-container">
            
            <!-- Project Overview -->
            <div class="project-section">
                <h2>Project Overview</h2>
                <p>
                    Developed a comprehensive computer vision and robotics pipeline for NPEC to automate plant root analysis and precision inoculation. This project combined deep learning for root segmentation with robotic control systems, creating an end-to-end solution for automated plant phenotyping. This proof-of-concept later evolved into the production-ready Rootify system.
                </p>
            </div>

            <!-- The Challenge -->
            <div class="project-section">
                <h2>The Challenge</h2>
                <p>
                    NPEC researchers were spending countless hours manually analyzing root systems and performing precise inoculations. The challenges included:
                </p>
                <p>
                    ‚Ä¢ Segmenting complex, intertwined root systems from soil backgrounds<br>
                    ‚Ä¢ Extracting accurate Root System Architecture (RSA) measurements<br>
                    ‚Ä¢ Coordinating computer vision outputs with robotic movements<br>
                    ‚Ä¢ Ensuring microliter precision in liquid handling<br>
                    ‚Ä¢ Maintaining sterile conditions during automated procedures<br>
                    ‚Ä¢ Competing in a Kaggle competition for root length prediction
                </p>
            </div>

            <!-- My Approach -->
            <div class="project-section">
                <h2>My Approach</h2>
                <p>
                    I tackled this challenge by developing parallel systems that would eventually integrate:
                </p>
                <p>
                    <strong>1. Vision System Development:</strong> Built custom deep learning models for instance and semantic segmentation<br>
                    <strong>2. RSA Feature Extraction:</strong> Developed algorithms to measure root length, density, and branching patterns<br>
                    <strong>3. Robotic Control Design:</strong> Implemented both PID and reinforcement learning controllers<br>
                    <strong>4. System Integration:</strong> Created a seamless pipeline from image capture to robotic action<br>
                    <strong>5. Competitive Benchmarking:</strong> Used Kaggle competition to validate our approaches
                </p>
            </div>

            <!-- Technical Implementation -->
            <div class="project-section">
                <h2>Technical Implementation</h2>
                <p>
                    The system architecture bridges computer vision with robotic control:
                </p>
                
                <pre><code>
                    # U-Net Segmentation Pipeline
                    class RootSegmentationPipeline:
                        def __init__(self):
                            self.unet_model = UNet(backbone='simple')  # Best F1: 0.857
                            self.regions = [(10, 700), (600, 1200), (1100, 1700), 
                                           (1500, 2300), (2100, 2700)]
                            
                        def process_image(self, image):
                            # 1. Crop and pad image to standard size
                            processed_image = self.preprocess_pipeline(image)
                            
                            # 2. Generate patches for model input
                            patches = self.create_patches(processed_image, 
                                                        patch_size=256, step_size=128)
                            
                            # 3. Segment roots using U-Net
                            root_masks = self.unet_model(patches)
                            
                            # 4. Separate into predefined regions
                            regional_masks = self.separate_regions(root_masks, self.regions)
                            
                            # 5. Extract root measurements via skeletonization
                            measurements = []
                            for region_mask in regional_masks:
                                skeleton = skeletonize(region_mask)
                                branch_data = self.analyze_branches(skeleton)
                                root_length = self.calculate_length(branch_data)
                                measurements.append(root_length)
                                
                            return measurements
                    
                    # Robotic Control Results
                    class RoboticResults:
                        # PID Controller Performance:
                        # - Kp=1.0, Ki=0.01, Kd=0.1
                        # - Goal reached in 192 steps
                        # - Working envelope: x=[-0.1875, 0.253], y=[-0.1705, 0.2197], z=[0.1197, 0.2896]
                        pass
                    </code></pre>

                <p>
                    <strong>Reinforcement Learning for Robot Control:</strong><br>
                    ‚Ä¢ Trained PPO agent in simulation (10,000 episodes)<br>
                    ‚Ä¢ Reward function balanced speed vs accuracy<br>
                    ‚Ä¢ Transfer learning from simulation to real OT-2 robot<br>
                    ‚Ä¢ Hybrid approach: RL for trajectory, PID for fine control
                </p>
            </div>

            <!-- Results & Impact -->
            <div class="project-section">
                <h2>Results & Impact</h2>
                <p>
                    The system achieved measurable results in both computer vision and robotics components:
                </p>
                <p>
                    ‚Ä¢ <strong>Segmentation Performance:</strong> U-Net model achieved 0.857 F1 score on validation set<br>
                    ‚Ä¢ <strong>Kaggle Competition:</strong> Improved from 110.174 to 2.445 public score through better root length estimation<br>
                    ‚Ä¢ <strong>Root Length Extraction:</strong> Successfully implemented skeletonization and branch analysis pipeline<br>
                    ‚Ä¢ <strong>Robotic Precision:</strong> PID controller reached target positions in 192 steps within working envelope<br>
                    ‚Ä¢ <strong>System Integration:</strong> Separate CV and robotics components developed as proof-of-concept<br>
                    ‚Ä¢ <strong>Technical Foundation:</strong> Established groundwork for the later Rootify production system
                </p>
                <p>
                    This proof-of-concept demonstrated the feasibility of automated plant phenotyping, with the computer vision pipeline showing particular promise for root segmentation tasks.
                </p>
            </div>

            <!-- Key Learnings -->
            <div class="project-section">
                <h2>Key Learnings</h2>
                <p>
                    <strong>Segmentation Challenges:</strong> Root segmentation proved complex due to overlapping structures and varying image quality. The U-Net approach with patch-based processing showed good results but required careful preprocessing.
                </p>
                <p>
                    <strong>Integration Complexity:</strong> While both computer vision and robotics components worked independently, full system integration remained a future challenge. The project established separate working pipelines that informed later development.
                </p>
                <p>
                    <strong>Competition Learning:</strong> The Kaggle competition provided valuable validation, showing significant improvement from basic bounding box approaches to sophisticated root length measurement via skeletonization.
                </p>
                <p>
                    <strong>PID vs RL Trade-offs:</strong> PID controllers proved more reliable than reinforcement learning approaches for precision tasks within the defined working envelope, reaching goals consistently in under 200 steps.
                </p>
            </div>
            
            <!-- Project Presentation -->
            <div class="project-section">
                <h2>Project Presentation</h2>
                <p>Here's the comprehensive presentation I delivered on the Plant Root Analysis & Robotics project, covering the computer vision pipeline, robotic control systems, and integration challenges:</p>
                
                <div class="presentation-slider">
                    <div class="slide-container">
                        <div class="slide active">
                            <img src="../presentations/plant-robotics/Slide1.png" alt="Rootify Presentation - Slide 1">
                        </div>
                        <div class="slide">
                            <img src="../presentations/plant-robotics/Slide2.png" alt="Rootify Presentation - Slide 2">
                        </div>
                        <div class="slide">
                            <img src="../presentations/plant-robotics/Slide3.png" alt="Rootify Presentation - Slide 3">
                        </div>
                        <div class="slide">
                            <img src="../presentations/plant-robotics/Slide4.png" alt="Rootify Presentation - Slide 4">
                        </div>
                        <div class="slide">
                            <img src="../presentations/plant-robotics/Slide5.png" alt="Rootify Presentation - Slide 5">
                        </div>
                        <div class="slide">
                            <img src="../presentations/plant-robotics/Slide6.png" alt="Plant Robotics Presentation - Slide 6">
                        </div>
                        <div class="slide">
                            <img src="../presentations/plant-robotics/Slide7.png" alt="Plant Robotics Presentation - Slide 7">
                        </div>
                        <div class="slide">
                            <img src="../presentations/plant-robotics/Slide8.png" alt="Plant Robotics Presentation - Slide 8">
                        </div>
                        <div class="slide">
                            <img src="../presentations/plant-robotics/Slide9.png" alt="Plant Robotics Presentation - Slide 9">
                        </div>
                        <div class="slide">
                            <img src="../presentations/plant-robotics/Slide10.png" alt="Plant Robotics Presentation - Slide 10">
                        </div>
                        <div class="slide">
                            <img src="../presentations/plant-robotics/Slide11.png" alt="Plant Robotics Presentation - Slide 11">
                        </div>
                        <div class="slide">
                            <img src="../presentations/plant-robotics/Slide12.png" alt="Plant Robotics Presentation - Slide 12">
                        </div>
                        <div class="slide">
                            <img src="../presentations/plant-robotics/Slide13.png" alt="Plant Robotics Presentation - Slide 13">
                        </div>
                        <div class="slide">
                            <img src="../presentations/plant-robotics/Slide14.png" alt="Plant Robotics Presentation - Slide 14">
                        </div>
                        <div class="slide">
                            <img src="../presentations/plant-robotics/Slide15.png" alt="Plant Robotics Presentation - Slide 15">
                        </div>
                        <div class="slide">
                            <img src="../presentations/plant-robotics/Slide16.png" alt="Plant Robotics Presentation - Slide 16">
                        </div>
                        <div class="slide">
                            <img src="../presentations/plant-robotics/Slide17.png" alt="Plant Robotics Presentation - Slide 17">
                        </div>
                        <div class="slide">
                            <img src="../presentations/plant-robotics/Slide18.png" alt="Plant Robotics Presentation - Slide 18">
                        </div>
                        <div class="slide">
                            <img src="../presentations/plant-robotics/Slide19.png" alt="Plant Robotics Presentation - Slide 19">
                        </div>
                        <div class="slide">
                            <img src="../presentations/plant-robotics/Slide20.png" alt="Plant Robotics Presentation - Slide 20">
                        </div>
                    </div>
                    
                    <div class="slide-navigation">
                        <button class="nav-btn prev-btn" onclick="changeSlide(-1)">‚Äπ</button>
                        <span class="slide-counter">
                            <span class="current-slide">1</span> / <span class="total-slides">20</span>
                        </span>
                        <button class="nav-btn next-btn" onclick="changeSlide(1)">‚Ä∫</button>
                    </div>
                    
                    <div class="slide-indicators">
                        <button class="indicator active" onclick="currentSlide(1)"></button>
                        <button class="indicator" onclick="currentSlide(2)"></button>
                        <button class="indicator" onclick="currentSlide(3)"></button>
                        <button class="indicator" onclick="currentSlide(4)"></button>
                        <button class="indicator" onclick="currentSlide(5)"></button>
                        <button class="indicator" onclick="currentSlide(6)"></button>
                        <button class="indicator" onclick="currentSlide(7)"></button>
                        <button class="indicator" onclick="currentSlide(8)"></button>
                        <button class="indicator" onclick="currentSlide(9)"></button>
                        <button class="indicator" onclick="currentSlide(10)"></button>
                        <button class="indicator" onclick="currentSlide(11)"></button>
                        <button class="indicator" onclick="currentSlide(12)"></button>
                        <button class="indicator" onclick="currentSlide(13)"></button>
                        <button class="indicator" onclick="currentSlide(14)"></button>
                        <button class="indicator" onclick="currentSlide(15)"></button>
                        <button class="indicator" onclick="currentSlide(16)"></button>
                        <button class="indicator" onclick="currentSlide(17)"></button>
                        <button class="indicator" onclick="currentSlide(18)"></button>
                        <button class="indicator" onclick="currentSlide(19)"></button>
                        <button class="indicator" onclick="currentSlide(20)"></button>
                    </div>
                </div>
            </div>

            <!-- Technologies Used -->
            <div class="project-section">
                <h2>Technologies Used</h2>
                <div class="tech-grid">
                    <span class="tech-tag">Python</span>
                    <span class="tech-tag">PyTorch</span>
                    <span class="tech-tag">Computer Vision</span>
                    <span class="tech-tag">OpenCV</span>
                    <span class="tech-tag">Deep Learning</span>
                    <span class="tech-tag">U-Net</span>
                    <span class="tech-tag">Reinforcement Learning</span>
                    <span class="tech-tag">Stable Baselines3</span>
                    <span class="tech-tag">PID Control</span>
                    <span class="tech-tag">Opentrons API</span>
                </div>
            </div>

        </div>
    </section>

    <!-- Back to Projects -->
    <section class="back-navigation">
        <a href="../index.html#projects" class="btn btn-secondary">‚Üê Back to Projects</a>
    </section>

    <!-- Footer -->
    <footer>
        <p>&copy; 2025 Thijn Bakker. Built with passion and lots of coffee ‚òï</p>
    </footer>

    <script src="../script.js"></script>
</body>
</html>