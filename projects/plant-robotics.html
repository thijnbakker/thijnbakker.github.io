<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plant Root Analysis & Robotics - Thijn Bakker</title>
    <link rel="icon" type="image/x-icon" href="../images/icons/robot_icon.png">
    <style>
        @import url('../styles.css');
    </style>
</head>
<body>
    <div class="bg-animation"></div>

    <!-- Navigation -->
    <nav id="navbar">
        <div class="nav-container">
            <a href="../index.html" class="logo">Thijn Bakker</a>
            <ul class="nav-links">
                <li><a href="../index.html">Home</a></li>
                <li><a href="../index.html#about">About</a></li>
                <li><a href="../index.html#projects">Projects</a></li>
                <li><a href="../index.html#contact">Contact</a></li>
            </ul>
        </div>
    </nav>

    <!-- Project Hero -->
    <section class="project-hero">
        <div class="project-hero-content">
            <h1>ðŸ¤– Automated Plant Root Analysis & Robotics</h1>
            <p class="project-date">November 2024 - January 2025</p>
            <p class="project-client">Client: Netherlands Plant Eco-phenotyping Centre (NPEC)</p>
        </div>
    </section>

    <!-- Project Content -->
    <section class="project-content">
        <div class="project-container">
            
            <!-- Project Overview -->
            <div class="project-section">
                <h2>Project Overview</h2>
                <p>
                    Developed a comprehensive computer vision and robotics pipeline for NPEC to automate plant root analysis and precision inoculation. This project combined deep learning for root segmentation with robotic control systems, creating an end-to-end solution for automated plant phenotyping. This proof-of-concept later evolved into the production-ready Rootify system.
                </p>
            </div>

            <!-- The Challenge -->
            <div class="project-section">
                <h2>The Challenge</h2>
                <p>
                    NPEC researchers were spending countless hours manually analyzing root systems and performing precise inoculations. The challenges included:
                </p>
                <p>
                    â€¢ Segmenting complex, intertwined root systems from soil backgrounds<br>
                    â€¢ Extracting accurate Root System Architecture (RSA) measurements<br>
                    â€¢ Coordinating computer vision outputs with robotic movements<br>
                    â€¢ Ensuring microliter precision in liquid handling<br>
                    â€¢ Maintaining sterile conditions during automated procedures<br>
                    â€¢ Competing in a Kaggle competition for root length prediction
                </p>
            </div>

            <!-- My Approach -->
            <div class="project-section">
                <h2>My Approach</h2>
                <p>
                    I tackled this challenge by developing parallel systems that would eventually integrate:
                </p>
                <p>
                    <strong>1. Vision System Development:</strong> Built custom deep learning models for instance and semantic segmentation<br>
                    <strong>2. RSA Feature Extraction:</strong> Developed algorithms to measure root length, density, and branching patterns<br>
                    <strong>3. Robotic Control Design:</strong> Implemented both PID and reinforcement learning controllers<br>
                    <strong>4. System Integration:</strong> Created a seamless pipeline from image capture to robotic action<br>
                    <strong>5. Competitive Benchmarking:</strong> Used Kaggle competition to validate our approaches
                </p>
            </div>

            <!-- Technical Implementation -->
            <div class="project-section">
                <h2>Technical Implementation</h2>
                <p>
                    The system architecture bridges computer vision with robotic control:
                </p>
                
                <pre><code>
# Integrated Vision-Robotics Pipeline
class PlantPhenotypingSystem:
    def __init__(self):
        self.segmentation_model = UNet(backbone='resnet50')
        self.landmark_detector = KeypointRCNN()
        self.robot = OpentronsOT2()
        self.controller = HybridController()  # PID + RL
        
    def process_plant(self, image):
        # Computer Vision Pipeline
        root_mask = self.segmentation_model(image)
        landmarks = self.landmark_detector(root_mask)
        rsa_features = extract_rsa(root_mask)
        
        # Robotic Planning
        inoculation_points = calculate_targets(landmarks, rsa_features)
        trajectory = self.plan_path(inoculation_points)
        
        # Execute with adaptive control
        for point in trajectory:
            self.controller.move_to(point)
            self.robot.dispense(volume=10)  # microliters
            
        return {
            'rsa_metrics': rsa_features,
            'points_inoculated': len(inoculation_points),
            'execution_time': self.robot.elapsed_time
        }
                </code></pre>

                <p>
                    <strong>Reinforcement Learning for Robot Control:</strong><br>
                    â€¢ Trained PPO agent in simulation (10,000 episodes)<br>
                    â€¢ Reward function balanced speed vs accuracy<br>
                    â€¢ Transfer learning from simulation to real OT-2 robot<br>
                    â€¢ Hybrid approach: RL for trajectory, PID for fine control
                </p>
            </div>

            <!-- Results & Impact -->
            <div class="project-section">
                <h2>Results & Impact</h2>
                <p>
                    The integrated system achieved impressive results:
                </p>
                <p>
                    â€¢ <strong>Segmentation Accuracy:</strong> 92% IoU on root segmentation<br>
                    â€¢ <strong>RSA Measurement:</strong> Within 5% of manual measurements<br>
                    â€¢ <strong>Kaggle Competition:</strong> Top 15% finish in root length prediction<br>
                    â€¢ <strong>Robotic Precision:</strong> Â±0.5mm positioning accuracy<br>
                    â€¢ <strong>Throughput:</strong> 50 plants/hour vs 5 plants/hour manual<br>
                    â€¢ <strong>Liquid Handling:</strong> 99.2% dispensing accuracy at 10Î¼L volumes
                </p>
                <p>
                    This proof-of-concept demonstrated the feasibility of fully automated plant phenotyping, leading to continued development and eventual productionization as Rootify.
                </p>
            </div>

            <!-- Key Learnings -->
            <div class="project-section">
                <h2>Key Learnings</h2>
                <p>
                    <strong>Sim-to-Real Gap:</strong> The biggest challenge was transferring RL policies from simulation to the physical robot. Domain randomization and careful reward shaping were essential.
                </p>
                <p>
                    <strong>Data Annotation Quality:</strong> High-quality root annotations were crucial. We developed custom annotation tools and guidelines to ensure consistency.
                </p>
                <p>
                    <strong>Integration Complexity:</strong> Synchronizing vision and robotics systems required careful state management and error handling.
                </p>
                <p>
                    <strong>Biological Variability:</strong> Plant roots are highly variable; the system needed to be robust to unexpected morphologies.
                </p>
            </div>

            <!-- Technologies Used -->
            <div class="project-section">
                <h2>Technologies Used</h2>
                <div class="tech-grid">
                    <span class="tech-tag">Python</span>
                    <span class="tech-tag">PyTorch</span>
                    <span class="tech-tag">Computer Vision</span>
                    <span class="tech-tag">OpenCV</span>
                    <span class="tech-tag">Deep Learning</span>
                    <span class="tech-tag">U-Net</span>
                    <span class="tech-tag">Reinforcement Learning</span>
                    <span class="tech-tag">Stable Baselines3</span>
                    <span class="tech-tag">PID Control</span>
                    <span class="tech-tag">Opentrons API</span>
                    <span class="tech-tag">ROS</span>